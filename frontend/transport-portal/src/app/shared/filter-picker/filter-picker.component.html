<div class="filter-picker">
  <label class="filter-label">{{ label }}</label>
  
  <div class="search-box">
    <input 
      type="text" 
      [formControl]="searchControl"
      [placeholder]="placeholder"
      class="search-input"
    />
    <button 
      *ngIf="searchControl.value" 
      (click)="clearSelection()"
      class="clear-button"
      type="button"
    >
      Ã—
    </button>
  </div>

  <div class="options-container" *ngIf="filteredOptions.length > 0">
    <div class="loading-spinner" *ngIf="loading">
      Loading options...
    </div>
    
    <div class="options-list" *ngIf="!loading">
      <div 
        *ngFor="let option of filteredOptions"
        class="option-item"
        (click)="selectOption(option)"
      >
        <span class="option-label">{{ option.label }}</span>
        <span class="option-count" *ngIf="option.count">
          ({{ option.count }})
        </span>
      </div>
    </div>
  </div>

  <div class="no-results" *ngIf="filteredOptions.length === 0 && !loading">
    No matching options found
  </div>
</div>

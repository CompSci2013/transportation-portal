<div class="filter-picker">
  <label class="filter-label">{{ label }}</label>
  
  <div class="search-box">
    <input 
      type="text" 
      [formControl]="searchControl"
      [placeholder]="placeholder"
      class="search-input"
    />
  </div>

  <div class="table-container" *ngIf="filteredOptions.length > 0">
    <div class="loading-spinner" *ngIf="loading">
      Loading options...
    </div>
    
    <table class="options-table" *ngIf="!loading">
      <thead>
        <tr>
          <th>Select</th>
          <th>Manufacturer</th>
          <th>State</th>
          <th>Count</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let option of filteredOptions">
          <td>
            <input 
              type="checkbox" 
              [checked]="isSelected(option.value)"
              (change)="toggleOption(option)"
            />
          </td>
          <td>{{ option.manufacturer }}</td>
          <td>{{ option.state }}</td>
          <td>{{ option.count }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="no-results" *ngIf="filteredOptions.length === 0 && !loading">
    No matching options found
  </div>
</div>
